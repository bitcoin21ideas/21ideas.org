---
title: "Что такое Лайтнинг?"
tags: ["биткоин", "лайтнинг", "масштабирование", "сеть лайтнинг", "сеть молния", "второй уровень", "платежи"]
description: "Какова польза сети Лайтнинг, как она работает, зачем она нужна?"
date: 2022-09-12
bookToc: true
bookFlatSection: false
weight: 1
---

![cover](LN-cover.png#center)

## Что такое сеть Лайтнинг?

{{< hint btc >}}
Статья подготовлена [Тони⚡️](https://snort.social/p/npub10awzknjg5r5lajnr53438ndcyjylgqsrnrtq5grs495v42qc6awsj45ys7)
{{< /hint >}}

Сеть лайтнинг _(Lightning Network)_ является децентрализованной системой для мгновенных микроплатежей. Биткоин, самая широко используемая и ценная в мире криптовалюта, позволяет любому передать ценность без необходимости в доверенном посреднике или депозитарии. Биткоин поддерживает продвинутую систему скриптов (сценариев), позволяющую пользователям программировать инструкции по распоряжению собственными средствами. Тем не менее, дизайн Биткоина обладает рядом недостатков. С момента совершения сделки на блокчейне Биткоина и до момента, когда эта сделка станет необратимой, может пройти час, а часто и больше.

Разумеется, микроплатежи или платежи, не превышающие несколько копеек, на сегодняшний день не выглядят жизнеспособными.

Сеть Лайтнинг решает эту проблему. Это одна из первых реализаций многостороннего смарт-контракта (программируемые деньги) с помощью встроенного скрипта протокола Биткоин. Сеть лайтнинг — ведущая технологическая разработка в контексте многопользовательских финансовых расчетов на основе сети Биткоин. Обратим внимание на некоторые преимущества, которыми обладает сеть Лайтнинг:

### Мгновенные платежи

Биткоин объединяет транзакции в блоки, появляющиеся с интервалом приблизительно в десять минут. Платежи в сети считаются необратимыми по прошествии шести подтверждений (появлении шести блоков поверх блока, содержащего вашу транзакцию) или около часа. В сети лайтнинг платежи не требуют подтверждения и являются мгновенными. Лайтнинг можно использовать в терминалах розничной торговли, между устройствами пользователей или в любой другой ситуации, где необходимы мгновенные платежи.

### Микроплатежи

Благодаря появлению микроплатежей могут появиться новые рынки. Лайтнинг позволяет отправить средства вплоть до 0.00000001 биткоина, не вынуждая вас обращаться к кастодиальным сервисам. Минимальная комиссия за транзакцию на блокчейне Биткоина сегодня во много сотен раз выше, а фиксированная плата за транзакцию делает микроплатежи не практичными. Лайтнинг позволяет осуществлять минимальные платежи, номинированные в биткоине, используя фактические биткоин-транзакции.

### Масштабируемость

Если сеть Биткоин намерена удовлетворить спрос присоединяюшихся пользователей, она должна поддерживать на порядок больший объем транзакций. В связи с предстоящим ростом количества устройств, подключенных к интернету, требуется платформа для платежей от устройства к устройству и автоматизированные микроплатежи. Транзакции в сети лайтнинг проходят вне блокчейна Биткоина, и также не требуют делегировать доверие и права собственности, что позволяет пользователям проводить практически неограниченное количество операций.

## Как это работает

Средства помещаются в двухсторонний [мультисиг](https://www.21ideas.org/theory-security-multisig-1/) биткоин-адрес, также называемый "каналом". Этот канал сохраняется как запись в публичном реестре Биткоина. Для того, чтобы потратить средства из канала, обе стороны должны договориться об актуальном последнем балансе, то есть о том, какая часть общего объема канала принадлежит каждому участнику. Текущий остаток хранится как последняя сделка, подписанная обеими сторонами, расходующая средства с соответствующих адресов канала. Для осуществления платежа обе стороны подписывают новую транзакцию, инициирующую закрытие из канала. При этом все старые операции аннулируются.

Для выхода из лайтнинг-канала сеть не требует сотрудничества вашего контрагента. Обе стороны имеют возможность в одностороннем порядке закрыть канал. Так как все участники имеют множественные каналы с многими пользователями сети, пользователи также могут отправлять средства тем участникам, с которыми они лично не открывали канал.

Подробнее о том, как сеть Лайтнинг работает под капотом можно узнать из этого видео:

{{< youtube xH--uHmtF-Q >}}

Больше материалов о сети Лайтнинг и ее особенностях можно найти в этом разделе: [добавить ссылку]

## Кому это надо?

В сети лайтнинг на сегодняшний день [насчитывается](https://1ml.com/statistics) почти 20 тысяч узлов и более 70 тысяч каналов; в сети также заблокировано чуть менее 5,000 BTC (около $150 млн. на момент написания этого материала). Этот протокол уже довольно распространен и продолжает развиваться. С улучшением пользовательского опыта взаимодействия с Биткоином в Лайтнинг будет приходить все больше пользователей.

![network](img-01.png#center)

Быть ранним пользователем любой *полезной* сети никогда не будет лишним — вы получаете возможность с меньшими усилиями получить больше ценности (в том или ином виде), чем те, кто присоединится позже. Когда разговор заходит о сетях, связанных с финансами, ценность становится еще более ощутимой. На сегодняшний день существует ряд способов получения прибыли (пусть и небольшой на данный момент, но с распространением Биткоина каждый сатоши становится все более ценным), и мы поговорим о некоторых из них далее.

## Заработок в сети лайтнинг

Существует множество способов заполучить заветные сатошики: от получения донатов за производство полезных материалов через [Alby](https://nostr.21ideas.org/docs/guides/Alby.html?ref=21ideas.org) и бота [Lightning Tip Bot](https://nostr.21ideas.org/docs/guides/LightningTipBot.html?ref=21ideas.org), о котором мы поговорим чуть позже, до сайтов наподобие [https://microlancer.io/](https://microlancer.io/?ref=21ideas.org), где можно выполнять простые задания в обмен на сатоши, и написания статей, открывающихся к просмотру после оплаты сатошиками на площадке [Y’alls](https://yalls.org/?ref=21ideas.org). Помимо этого, в зависимости от страны проживания вы можете воспользоваться такими сервисами, как [Lolli](https://www.lolli.com/?ref=21ideas.org), которые возвращают часть стоимости покупок в биткоинах.

Если вы уделите чуть больше времени и немного ресурсов, то, запустив собственную лайтнинг-ноду, вы сможете открывать каналы и сдавать их в аренду желающим осуществлять транзакции. Вы можете изучить ресурс [https://github.com/lightninglabs/pool](https://github.com/lightninglabs/pool?ref=21ideas.org), чтобы получить больше информации на эту тему.

Тем не менее, самыми простыми способами заработка сатоши является предоставление услуг взамен на оплату в сети лайтнинг.

## С чего начать?

Первым шагом во взаимодействии с любым “крипто-решением” всегда является выбор кошелька. Лайтнинг не стал исключением, и в первую очередь нам стоит определиться какой графический интерфейс выбрать для взаимодействия с сетью.

Для начинающих я бы порекомендовал обратиться к так называемым кастодиальным кошелькам — кошелькам, которые хранят ваши средства. Знаю, что многие сейчас вспомнят старое доброе высказывание “Не твои ключи — не твои биткоины”, и я полностью с вами согласен, но лайтнинг, будучи протоколом второго уровня, то есть надстройкой над протоколом Биткоин, сложнее в плане настройки. Поэтому начать с кастодиального решения отнюдь не зазорно. Вы всегда можете сменить подход как только вы убедитесь в собственных силах и запустите собственную ноду.

Примером таких кошельков являются [Wallet of Satoshi](https://www.walletofsatoshi.com/?ref=21ideas.org), [Alby](https://nostr.21ideas.org/docs/guides/Alby.html?ref=21ideas.org) и многие другие. 

{{< hint btc >}}
Не забывайте, что предложенные выше кошельки и их разработчики хранят ваши сатошики за вас, а значит имеют полный контроль над вашими средствами. Несмотря на то, что в качестве первого шага при взаимодействии с Лайтнинг, использование подобных кошельков является неплохим решением, я настоятельно рекомендую вам изучить вопрос более детально и перерейти на решения, предоставляющие вам возможность контролировать ваши саты.
{{< /hint >}}

Немного разобравшись в механике работы сети вы сможете перейти к более продвинутым решениям хранения и передачи ценности в сети Лайтнинг. Одним из простых, некастодиальных решений является кошелек Phoenix, гид по которому доступен здесь. В качестве альтернативы вы также можете использовать кошелек Valet, Breez или Blixt. Лучшим же и самым гибким решением - хоть и требующим больше ресурсов и знаний - является запуск собственного Лайтнинг-узла и самостоятельное управление каналами.

Создав кошелек вам потребуется отправить на него немного биткоинов, после чего внутри приложения вы сможете вывести полученные биткоины "на второй уровень". Разные приложения взаимодействуют с пользователем по разному, но, как правило, все они интуитивны и не должны вызвать никаких сложностей. В итоге вы сможете пользоваться вашими лайтнинг-биткоинами так же, как и в случае с обычными - можно создавать и оплачивать счета и взаимодействовать со всеми, кто принимает оплату через Лайтнинг.

## Передача ценности в сети Лайтнинг

Транзакции в сети Лайтнинг проходят через специальные каналы и осуществляются посредством генерации и оплаты инвойсов (счетов). Чтобы оплатить  инвойс необходимо сканировать предложенный контрагентом QR-код или вставить полученную ссылку в свой кошелек.

![invoice](img-02.png#center)
|:--:|
_Интерфейс Телеграм-бота [LN.tips](https://t.me/LightningTipBot)_

По мере развития протокола появляются все более удобные решения взаимодействия. Разумеется, генерация нового инвойса каждый раз, когда вы хотите получить оплату, не является самым удобным подходом. К счастью, разработчики предложили так называемые Лайтнинг-адреса, благодаря которым вы можете использовать одни и те же реквизиты для многократного получения средств. Подробнее о Лайтнинг-адресах можно узнать из этого поста: [добавить ссылку]

## Передача ценности в сети Лайтнинг, не покидая Telegram

С развитием протокола появилось множество сторонних сервисов, облегчающих взаимодействие с сетью. Одним из таких полезных решений стал Telegram-бот [@LightningTipBot](https://t.me/LightningTipBot?ref=21ideas.org). С его помощью можно пересылать сатоши другим пользователям Телеграм и даже благодарить/поддерживать сатошиками высказывания ваших собеседников в чатах, в которых установлен этот бот. Описание работы бота и все возможные команды доступны по команде `/help`. Более того, каждый пользователь Telegram автоматически получает страничку с так называемым LNURL - специально сгенерированным адресом в сети лайтнинг. Подробнее о боте можно узнать из [этого](https://nostr.21ideas.org/docs/guides/LightningTipBot.html?ref=21ideas.org) гида.

![lntips](img-03.png)
|:--:|
[Гид по кошельку-боту для Телеграм LN.tips](https://nostr.21ideas.org/docs/guides/LightningTipBot.html?ref=21ideas.org)

## И это все?

Протокол Биткоин и сеть Лайтнинг, как решение второго уровня, стремительно развиваются. Мы постоянно видим новые решения по оптимизации протокола, улучшению пользовательского опыта и другие нововведения.. Количество сервисов, принимающих биткоин стремительно растет с каждым днем.

За последние 10+ лет Биткоин уже доказал, что никуда не денется — он функционировал практически без перебоев с самого запуска протокола в январе 2009 года. Изучить Биткоин и сопутствующие протоколы сейчас — все равно, что погрузиться в океан интернет-решений в нулевых. Быть первопроходцем нелегко, но и вознаграждение за любопытство и труд, как правило, не заставит себя ждать!

---

_Tony_

---

{{< hint btc >}}
Информация оказалась полезной? Все распространяемые материалы распространяются безвозмездно, готовятся и курируются сообществом, и проект нуждается в вашей поддержке. Вы можете поддержать проект финансово, либо внести вклад в его развитие через добавление полезных материалов о Биткоине. Подробнее о возможности участия в улучшении самой обширной русскоязычной биткоин-библиотеки и развитии русскоязычного сообщества биткоинеров можно узнать [здесь]({{< ref "/Contribute" >}}).
{{< /hint >}}